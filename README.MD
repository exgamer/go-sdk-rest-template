# go-sdk-rest-template

`go-sdk-rest-template` ‚Äî —à–∞–±–ª–æ–Ω REST-—Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ Go, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–æ–≤–µ—Ä—Ö `gosdk-core`, `gosdk-db-core`, `gosdk-postgres-core`, `gosdk-http-request-builder` –∏ `gosdk-http-core`.
–ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —Å –µ–¥–∏–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, DI, –º–æ–¥—É–ª—è–º–∏ –∏ HTTP kernel.

–®–∞–±–ª–æ–Ω –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è production-—Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.

---
## –î–ª—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–µ–π –∫ —Å–ª–µ–¥—É—é—â–∏–º –ø–∞–∫–µ—Ç–∞–º 

 - [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è GOSDK-CORE](https://github.com/exgamer/gosdk-core)
 - [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è GOSDK-HTTP-CORE](https://github.com/exgamer/gosdk-http-core)
 - [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è GOSDK-DB-CORE](https://github.com/exgamer/gosdk-db-core)
 - [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è GOSDK-POSTGRES-CORE](https://github.com/exgamer/gosdk-postgres-core)
 - [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è GOSDK-HTTP-REQUEST-BUILDER](https://github.com/exgamer/gosdk-http-request-builder)
--- 

## üöÄ –ß—Ç–æ –¥–∞—ë—Ç —à–∞–±–ª–æ–Ω

- üß† –ï–¥–∏–Ω—ã–π `App` lifecycle
- üåê –ì–æ—Ç–æ–≤—ã–π HTTP kernel (Gin)
- üß© Dependency Injection –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- üß± –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (business modules)
- ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ env
- ‚ôªÔ∏è Graceful shutdown
- ‚ùó –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- üß™ –£–¥–æ–±–Ω–∞—è –±–∞–∑–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ app/               # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ modules/           # –ë–∏–∑–Ω–µ—Å-–º–æ–¥—É–ª–∏
‚îÇ       ‚îú‚îÄ‚îÄ common/
‚îÇ       ‚îî‚îÄ‚îÄ http/
‚îú‚îÄ‚îÄ pkg/
‚îÇ   ‚îî‚îÄ‚îÄ contracts/         # –û–±—â–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ main.go        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ README.md
```

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
go mod tidy
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ env

```env
APP_NAME=rest-template
APP_ENV=local
APP_VERSION=1.0
TIMEZONE=
DEBUG=true

SERVER_ADDRESS=0.0.0.0:8090
SWAGGER_PREFIX=rest-template
HANDLER_TIMEOUT=30
SENTRY_DSN=

POSTGRES_DB_HOST=localhost
POSTGRES_DB_USER=admin
POSTGRES_DB_PASSWORD=admin
POSTGRES_DB_NAME=test
POSTGRES_DB_PORT=5432
POSTGRES_DB_MAX_OPEN_CONNECTIONS=100
POSTGRES_DB_MAX_IDLE_CONNECTIONS=10
POSTGRES_DB_LOG_LEVEL=info    // –≤—ã–≤–æ–¥ –ª–æ–≥–æ–≤ SQL  –∑–∞–ø—Ä–æ—Å–æ–≤ "info", "errors",  "warnings", –µ—Å–ª–∏ –ª–æ–≥–∏ –Ω–µ –Ω—É–∂–Ω—ã –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å
```

### 3. –ó–∞–ø—É—Å–∫

```bash
go run cmd/service/main.go
```

---

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### App

`App` —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ `internal/app` –∏:
- –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç config
- —Å–æ–∑–¥–∞—ë—Ç DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç kernels
- –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–∏–∑–Ω–µ—Å-–º–æ–¥—É–ª–∏
- 
### –ü—Ä–∏–º–µ—Ä App

[–ü—Ä–∏–º–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](internal/app/app.go)

### HTTP Kernel

HTTP kernel:
- –ø–æ–¥–Ω–∏–º–∞–µ—Ç Gin server
- —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç router –≤ DI
- —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º HTTP

---

## üß± –ë–∏–∑–Ω–µ—Å-–º–æ–¥—É–ª–∏

–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å:
- –∏–º–µ–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–º—è
- —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–≤–æ–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –¥–æ–±–∞–≤–ª—è–µ—Ç HTTP-—Ä–æ—É—Ç—ã

[–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏](internal/domains/handbook/modules/city/dal/database/repositories/city_repository.go)

[–ü—Ä–∏–º–µ—Ä —Å–µ—Ä–≤–∏—Å–∞](internal/domains/handbook/modules/city/services/city_service.go)

[–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞](internal/domains/handbook/modules/city/http/city/v1/handlers/city_handler.go)

[–ü—Ä–∏–º–µ—Ä –±–∏–∑–Ω–µ—Å –º–æ–¥—É–ª—è](internal/domains/handbook/modules/city/module.go)

[–ü—Ä–∏–º–µ—Ä —Ä–æ—É—Ç–æ–≤ –º–æ–¥—É–ª—è](internal/domains/handbook/modules/city/routes.go)

---
### HTTP –∑–∞–ø—Ä–æ—Å—ã

–î–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞–∫–µ—Ç `gosdk-http-request-builder` (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å–º–æ—Ç—Ä–∏ –≤ README –ø–∞–∫–µ—Ç–∞)
- [–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å HTTP –∑–∞–ø—Ä–æ—Å–∞–º–∏](internal/domains/handbook/modules/city/dal/http/repositories/city_repository.go)

---

---
### –ù–µ–π–º–∏–Ω–≥

[–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–µ–π–º–∏–Ω–≥—É —Ñ–∞–π–ª–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä](NAMING.md)

---

### SWAGGER

[–†–∞–±–æ—Ç–∞ —Å–æ SWAGGER](SWAGGER.MD)

---

## üß© Dependency Injection

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤:

```go
di.Register(app.Container, &UserService{})
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```go
c, err := di.Resolve[*config.HttpConfig](a.Container)

if err != nil {
    return nil, err
}
```

---

## ‚ùó –û—à–∏–±–∫–∏

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ–¥–∏–Ω–∞—è –º–æ–¥–µ–ª—å –æ—à–∏–±–æ–∫ –∏–∑ `gosdk-core` –∏ `gosdk-http-core`:

HTTP kernel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞–ø–∏—Ç –æ—à–∏–±–∫–∏ –≤ HTTP-–æ—Ç–≤–µ—Ç—ã.

---

## ‚ôªÔ∏è Graceful Shutdown

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- –ª–æ–≤–∏—Ç SIGTERM / SIGINT
- –∑–∞–≤–µ—Ä—à–∞–µ—Ç HTTP —Å–µ—Ä–≤–µ—Ä
- –¥–∞—ë—Ç –≤—Ä–µ–º—è –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üß™ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- ‚úÖ –æ–¥–∏–Ω –±–∏–∑–Ω–µ—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç = –æ–¥–∏–Ω –º–æ–¥—É–ª—å
- ‚úÖ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–æ—É—Ç—ã —Ç–æ–ª—å–∫–æ –≤ –º–æ–¥—É–ª—è—Ö
- ‚ùå –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- ‚ùå –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å HTTP server –≤—Ä—É—á–Ω—É—é
- ‚úÖ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DI –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

---

## üìå –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

- `gosdk-core`
- `gosdk-http-core`
- Gin
- Go 1.21+

---

## üìù License

MIT –∏–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ª–∏—Ü–µ–Ω–∑–∏—è –∫–æ–º–ø–∞–Ω–∏–∏
